# CLAUDE.md - Gregor Zwanzig

## Projekt-Ueberblick

**Gregor Zwanzig** ist ein Headless-Service zur Normalisierung von Wetterdaten und Ausgabe als kompakte Reports (SMS <=160 Zeichen, E-Mail mit Tabellen).

- **Zielgruppe:** Weitwanderer (z.B. GR20), eingeschraenkte Konnektivitaet
- **Stack:** Python, uv, pytest
- **Channels:** E-Mail (MVP), spaeter SMS/Push

## Workflow

Dieses Projekt nutzt den **OpenSpec 4-Phasen-Workflow**:

| Phase | Command | Purpose |
|-------|---------|---------|
| 1 | `/analyse` | Request verstehen, Codebase recherchieren |
| 2 | `/write-spec` | Spezifikation erstellen |
| 3 | User: "approved" | Spec freigeben |
| 4 | `/implement` | Implementieren nach Spec |
| 5 | `/validate` | Validieren vor Commit |

**Hooks erzwingen diesen Workflow!** Edit/Write auf geschuetzte Dateien ist blockiert.

## Architektur

```
CLI -> Config -> Provider-Adapter -> Normalizer -> Risk Engine -> Formatter -> Channel
```

Siehe: `docs/features/architecture.md`

## Wichtige Referenzen

| Dokument | Beschreibung |
|----------|--------------|
| `docs/reference/api_contract.md` | Single Source of Truth: DTOs & Datenformate |
| `docs/reference/decision_matrix.md` | Provider-Auswahl (MET vs MOSMIX) |
| `docs/features/scope.md` | Projektvision & Ziele |

## CLI

```bash
python -m src.app.cli --report evening --channel email
python -m src.app.cli --report morning --channel none --dry-run
python -m src.app.cli --debug verbose
```

Konfigurations-Prioritaet: CLI > ENV > config.ini

## Tests

```bash
uv run pytest
```

## Specs

Alle Module benoetigen Specs vor Implementierung:
- Template: `docs/specs/_template.md`
- Location: `docs/specs/modules/[entity].md`

### Implementierte Module
- `cli` - Einstiegspunkt
- `smtp_mailer` - E-Mail-Versand
- `debug_buffer` - Debug-Sammlung

### Geplante Module (draft)
- `provider_met` - MET Norway Adapter
- `provider_mosmix` - DWD MOSMIX Adapter
- `risk_engine` - Risiko-Bewertung
- `report_formatter` - Report-Generierung

## Dokumentation

- `docs/specs/` - Entity-Spezifikationen
- `docs/features/` - Feature-Dokumentation
- `docs/reference/` - Technische Referenz
- `docs/project/` - Projekt-Management (Backlog)

---

Generated by OpenSpec Framework on 2025-12-27
